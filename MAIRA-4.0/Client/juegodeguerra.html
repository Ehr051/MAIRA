<!DOCTYPE html>
<html lang="es">
<head>
  <title>M.A.I.R.A. - Modo Juego de Guerra</title>
  <link rel="apple-touch-icon" sizes="180x180" href="image/favicon_logoai/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="image/favicon_logoai/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="image/favicon_logoai/favicon-16x16.png">
  <link rel="manifest" href="image/favicon_logoai/site.webmanifest">
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <!-- üé® ESTILOS CSS -->
  <!-- Font Awesome CDN (compatible con producci√≥n) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous">
  
  <!-- Bootstrap Local -->  
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
  
  <!-- Leaflet y plugins desde node_modules -->
  <link rel="stylesheet" href="../node_modules/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="../node_modules/leaflet-draw/dist/leaflet.draw.css" />
  <link rel="stylesheet" href="../node_modules/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <link rel="stylesheet" href="../node_modules/@raruto/leaflet-elevation/dist/leaflet-elevation.css" />
  <link rel="stylesheet" href="../node_modules/leaflet-fullscreen/dist/leaflet.fullscreen.css" />
  <link rel="stylesheet" href="../node_modules/leaflet-sidebar-v2/css/leaflet-sidebar.min.css" />
  <link rel="stylesheet" href="../node_modules/leaflet-measure/dist/leaflet-measure.css" />
  <link rel="stylesheet" href="../node_modules/leaflet-easybutton/src/easy-button.css" />
  
  <!-- CSS Personalizados MAIRA -->
  <link rel="stylesheet" href="css/common/planeamiento.css">
  <link rel="stylesheet" href="css/hexgrid.css">
  <link rel="stylesheet" href="css/modules/juegodeguerra/juegodeguerra.css">
  <link rel="stylesheet" href="css/modules/juegodeguerra/sistemaZoomMultiNivel.css">
  <link rel="stylesheet" href="css/common/CYGMarcha.css">
  <link rel="stylesheet" href="css/common/graficomarcha.css">
  
  <!-- Sistema de Paneles Unificado - ELIMINADO: Reemplazado por Panel Inferior Unificado -->
  
  <!-- Vista 3D Integrada -->
  <link rel="stylesheet" href="css/modules/vista3d-integrada.css">
  
  <!-- Panel Inferior Unificado - Total War Style -->
  <link rel="stylesheet" href="css/core/panelInferiorUnificado.css">
  
  <!-- ÔøΩ CONFIGURACI√ìN DE RED -->
  <script src="js/common/networkConfig.js"></script>
  
  <!-- ÔøΩüöÄ SCRIPTS JAVASCRIPT (Todos desde node_modules) -->
  <!-- Core Libraries desde node_modules -->
  <script src="../node_modules/jquery/dist/jquery.min.js"></script>
  <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Leaflet y plugins desde node_modules -->
  <script src="../node_modules/leaflet/dist/leaflet.js"></script>
  <script src="../node_modules/leaflet-draw/dist/leaflet.draw.js"></script>
  
  <!-- Export Libraries (locales) -->
  <script src="../node_modules/jspdf/dist/jspdf.umd.min.js"></script>
  <script src="../node_modules/html2canvas/dist/html2canvas.min.js"></script>
  
  <!-- Socket.IO (local) -->
  <script src="../node_modules/socket.io/client-dist/socket.io.min.js"></script>
  
  <!-- Military Symbol Libraries -->
  <script src="../node_modules/milsymbol/dist/milsymbol.js"></script>
  <script src="../node_modules/d3/dist/d3.min.js"></script>
  
  <!-- Leaflet Plugins adicionales (solo los que REALMENTE necesites) -->
  <script src="../node_modules/leaflet-control-geocoder/dist/Control.Geocoder.min.js"></script>
  <script src="../node_modules/leaflet-measure/dist/leaflet-measure.js"></script>
  <script src="../node_modules/file-saver/dist/FileSaver.js"></script>
  
  <!-- üó∫Ô∏è PLUGINS MAPAS CR√çTICOS (faltantes) -->
  <script src="../node_modules/@raruto/leaflet-elevation/dist/leaflet-elevation.min.js"></script>
  <script src="../node_modules/geotiff/dist-browser/geotiff.js"></script>
  <script src="../node_modules/leaflet-bing-layer/leaflet-bing-layer.min.js"></script>
  <script src="../node_modules/leaflet-easybutton/src/easy-button.js"></script>
  <script src="../node_modules/leaflet-fullscreen/dist/Leaflet.fullscreen.min.js"></script>
  <script src="../node_modules/leaflet-geometryutil/src/leaflet.geometryutil.js"></script>
  
  <!-- üîç DETECTOR DE ZOOM 3D -->
  <script src="js/modules/gaming/detectorZoom3D.js"></script>
  <script src="../node_modules/leaflet-geosearch/dist/bundle.min.js"></script>
  <script src="../node_modules/leaflet-polylinedecorator/dist/leaflet.polylineDecorator.js"></script>
  <script src="../node_modules/leaflet-search/dist/leaflet-search.src.js"></script>
  <script src="../node_modules/leaflet-sidebar-v2/js/leaflet-sidebar.min.js"></script>
  <script src="../node_modules/leaflet.gridlayer.googlemutant/dist/Leaflet.GoogleMutant.js"></script>
  <script src="../node_modules/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
  <script src="../node_modules/proj4/dist/proj4.js"></script>
  
  <!-- ‚úÖ THREE.js CORREGIDO - Usando carpeta mythree adaptada -->
  <script src="Libs/mythree/three.min.js"></script>
  <script src="Libs/mythree/GLTFLoader.js"></script>
  <script src="Libs/mythree/OrbitControls.js"></script>

  <!-- ECOSISTEMA 3D COMPLETO - Componentes del sistema unificado -->
  <script src="js/modules/gaming/modelos3DManager.js"></script>
  <script src="js/modules/gaming/elementoModelo3DMapper.js"></script>
  <script src="js/modules/gaming/sidcModelo3DBridge.js"></script>
  <script src="js/services/sidcToModel3D.js"></script>
  <script src="js/modules/gaming/sistemaJerarquicoSIDC.js"></script>
  <script src="js/modules/gaming/sistemaFormacionesMilitares.js"></script>
  <script src="js/modules/gaming/tactico3dIntegration.js"></script>
  <script src="js/modules/gaming/visorMapa3DMejorado.js"></script>
  <script src="js/modules/gaming/sistemaTerrenoRealista.js"></script>

  <!-- SISTEMA MAESTRO 3D - Integra todo el ecosistema -->
  <script src="js/services/maira3DMaster.js"></script>
  <script src="../node_modules/pako/dist/pako.min.js"></script>
  <script src="Libs/leaflet-pattern/dist/leaflet.pattern.js"></script>
  
  <!-- =============================================
       SCRIPTS JAVASCRIPT EXISTENTES - MAIRA 4.0
       ============================================= -->
       
  <!-- üèóÔ∏è CORE (archivos que existen) -->
  <script src="js/core/UserIdentity.js"></script>
  <script src="js/core/MAIRACore.js"></script>
  
  <!-- üéÆ PANEL INFERIOR UNIFICADO - Total War Style -->
  <script src="js/core/panelInferiorUnificado.js"></script>

  <!-- üîß UTILS (archivos que existen) -->
  <script src="js/utils/eventemitter.js"></script>

  <!-- ÔøΩ CONFIGURATION (CR√çTICO PARA SERVER_URL) -->
  <script src="js/utils/config.js"></script>
  <script src="js/common/networkConfig.js"></script>

  <!-- üîÑ SERVICES (archivos que existen) -->
  <script src="js/services/transitabilityService.js"></script>
  <script src="js/services/militaryDataService.js"></script>
  <!-- <script src="js/services/DeploymentService.js"></script> COMENTADO - En archivos-obsoletos -->

  <!-- üéØ PANEL UNIFICADO - ELIMINADO: Reemplazado por Panel Inferior Unificado -->
  
  <!-- üì¢ SISTEMA DE NOTIFICACIONES PUSH/POP -->
  <script src="js/modules/shared/notificationSystem.js"></script>
  
  <!-- üîç SISTEMA ZOOM MULTI-NIVEL (Total War Style) -->
  <script src="js/modules/shared/sistemaZoomMultiNivel.js"></script>

  <!-- üéÆ GAMING (archivos que existen) -->
  <script src="js/gaming/GameEngine.js"></script>
  <script src="js/gaming/AIDirector.js"></script>
  <script src="js/gaming/FogOfWar.js"></script>
  
  <!-- üéØ SISTEMA 3D COMPLETO -->
  <script src="js/modules/gaming/modelos3DManager.js"></script>
  <script src="js/modules/gaming/elementoModelo3DMapper.js"></script>
  <script src="js/modules/gaming/sidcModelo3DBridge.js"></script>
  
  <!-- üéÆ GESTOR VISTA 3D UNIFICADO -->
  <!-- <script src="js/modules/shared/vista3DManager.js"></script> ELIMINADO - Sistema 3D obsoleto -->
  
  <!-- üó∫Ô∏è SERVICIO 3D CR√çTICO -->
  <!-- <script src="js/services/threeDMapService.js"></script> ELIMINADO - Sistema 3D obsoleto -->
  
  <!-- üî¨ SERVICIOS AN√ÅLISIS FALTANTES -->
  <script src="js/services/elevationProfileService.js"></script>
  <script src="js/services/slopeAnalysisService.js"></script>
  <script src="js/infrastructure/terrainAdapter.js"></script>

  <!-- üéØ HANDLERS (archivos que existen) -->
  <script src="js/handlers/performanceOptimizer.js"></script>
  <script src="js/handlers/elevationHandler.js"></script>
  <script src="js/handlers/vegetacionhandler.js"></script>
  <script src="js/handlers/dependency-manager.js"></script>
  <script src="js/handlers/EventBus.js"></script>
  <script src="js/handlers/searchHandler.js"></script>
  
  <!-- üîß HANDLERS CR√çTICOS DE PLANEAMIENTO -->
  <script src="js/utils/geometryUtils.js"></script>
  <script src="js/handlers/mobileOptimizationHandler.js"></script>
  <script src="js/handlers/mapInteractionHandler.js"></script>
  <script src="js/handlers/measurementHandler.js"></script>
  <script src="js/handlers/DirectorManager.js"></script>
  <script src="js/handlers/pendienteHandler.js"></script>
  <script src="js/handlers/transitabilidadHandler.js"></script>
  
  <!-- üé® FONT AWESOME TEST -->
  <script src="js/common/fontAwesomeTest.js"></script>
  
  <!-- ÔøΩ FUNCIONALIDADES BASE CR√çTICAS (faltantes) -->
  <script src="js/common/atajosP.js"></script>
  <script src="js/common/dibujosMCCP.js"></script>
  <!-- elementEditor.js MOVIDO A edicioncompleto.js -->
  <script src="js/common/graficoMarcha.js"></script>
  <script src="js/common/herramientasP.js"></script>
  <script src="js/common/simbolosP.js"></script>
  <script src="js/common/unidades.js"></script>
  
  <!-- ÔøΩüí¨ CHAT SYSTEM (CR√çTICO PARA MULTIPLAYER) -->
  <script src="js/common/MAIRAChat.js"></script>

  <!-- üß© MODULES (archivos que existen) -->
  <script src="js/modules/planeamiento/planeamiento.js"></script>
  <script src="js/modules/juego/gestorBase.js"></script>
  <!-- ‚ö†Ô∏è GestorTurnos DESPU√âS de GestorBase -->
  <script src="js/modules/juego/gestorTurnos.js"></script>
  <script src="js/modules/juego/gestorCarga.js"></script>
  <!-- üì° GESTOR COMUNICACI√ìN CR√çTICO -->
  <script src="js/modules/juego/gestorComunicacion.js"></script>
  <!-- üîÑ GESTORES DE FASES Y ACCIONES -->
  <script src="js/modules/juego/gestorFases.js"></script>
  <script src="js/modules/juego/gestorAcciones.js"></script>
  <script src="js/modules/juego/gestorEventos.js"></script>
  <script src="js/modules/juego/hexgrid.js"></script>
  <script src="js/modules/juego/gestorJuego.js"></script>
  <script src="js/modules/juego/gestorUnidades.js"></script>
  <script src="js/modules/juego/gestorMapa.js"></script>
  <script src="js/modules/juego/gestorEstado.js"></script>
  <!-- ‚úÖ GESTOR DE INTERFAZ - Integrado con sistema unificado -->
  <script src="js/modules/juego/gestorInterfaz.js"></script>
  
  <!-- Sistema de Paneles Unificado - ELIMINADO: Reemplazado por Panel Inferior Unificado -->

  <!-- ‚úÖ INTEGRACI√ìN T√ÅCTICA 3D - Sistema Maestro Unificado -->
  <!-- Sistema 3D MAIRA Master - SIDC‚Üí3D Integration -->
  <script src="Libs/three/three.min.js"></script>
  <script src="Libs/three/OrbitControls.js"></script>
  <script src="Libs/three/GLTFLoader.js"></script>
  <script src="js/services/sidcToModel3D.js"></script>
  <script src="js/services/maira3DMaster.js"></script>  <!-- ‚úÖ INTEGRACI√ìN T√ÅCTICA 3D - Sistema Maestro Unificado -->
  <!-- Los componentes individuales ahora se cargan arriba con el ecosistema completo -->
  
  <!-- üéØ M√ìDULOS MAIRA 4.0 REFACTORIZADOS -->
  <!-- <script src="js/modules/sistema3d.js"></script> ELIMINADO - Sistema 3D obsoleto -->
  <!-- js/modules/paneles.js - ELIMINADO: Reemplazado por Panel Inferior Unificado -->
  
  <!-- üîß UTILIDADES Y SISTEMAS DE SOPORTE -->
  <!-- <script src="js/modules/shared/vista3DManager.js"></script> ELIMINADO - Sistema 3D obsoleto -->
  <!-- <script src="js/modules/shared/diagnosticoSistema.js"></script> ELIMINADO - Sistema 3D obsoleto -->
  <script src="js/modules/planeamiento.js"></script>
  <script src="js/modules/juegodeguerra.js"></script>

  <!-- üåê COMMON (archivos necesarios) -->
  <!-- üîç CALCOS Y S√çMBOLOS CR√çTICOS -->
  <script src="js/utils/calcosP.js"></script>
  <script src="js/common/simbolosP.js"></script>
  <script src="js/common/mapaP.js"></script>
  <script src="js/common/edicioncompleto.js"></script>
  <script src="js/common/panelMarcha.js"></script>
  <script src="js/common/CalculoMarcha.js"></script>
  <script src="js/common/miradial.js"></script>
  
  <!-- Sistema de Men√∫ Radial MAIRA -->
  <link rel="stylesheet" href="css/common/mairaRadialMenu.css">
  <script src="js/common/mairaRadialMenu.js"></script>
  
  <!-- üìä √çNDICE Y PRUEBAS -->
  <script src="js/common/indexP.js"></script>
  <script src="js/Test/testPlaneamiento.js"></script>
  <script src="js/Test/autoTest.js"></script>
  <script src="js/Test/visualizadorTests.js"></script>

  <!-- üöÄ INICIALIZADORES EXTERNOS (JavaScript limpio) -->
  <script src="js/modules/gaming/inicializadorJuegoGuerra.js"></script>
  <script src="js/modules/gaming/gestorDetectorGestos.js"></script>

  <!-- MediaPipe para control por gestos -->
 <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4.1646424915/hands.js"></script>
 
 <!-- Control por gestos MAIRA -->
 <script src="js/gesture-control-web.js"></script>
 
</head>
<body>
  <!-- Loading container al principio del body -->
  <div class="loading-container" style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100vw !important; height: 100vh !important; background-color: black; position: fixed !important; top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; z-index: 9999 !important; margin: 0; padding: 0; overflow: hidden;">
    <img src="image/M.A.I.R.A..gif" alt="M.A.I.R.A. Logo" class="logo">
    <h1>JUEGO DE GUERRA</h1>
    <div class="progress-container">
      <div class="progress-bar" id="progreso" style="width: 0%;">
        <span class="loading-percentage" id="porcentajeCarga">0%</span>
      </div>
      <div class="loading-text" id="loadingText">Cargando recursos...</div>
    </div>
    <div class="version">Versi√≥n 1.4.1</div>
  </div>

  <!-- Paneles obsoletos eliminados - Reemplazados por Sistema de Paneles Unificado -->

  <!-- Botones de prueba eliminados - Funcionalidad integrada en Sistema de Paneles -->

  <div id="botones-principales">
    <div class="menu-btn">
      <button id="verBtn" data-toggle="collapse" data-target="#ver-menu" aria-expanded="false" aria-controls="ver-menu">
        <i class="fas fa-eye"></i> Ver
      </button>
      <div id="ver-menu" class="menu collapse">
        <div class="menu-btn">
          <button id="tipoMapaBtn" onclick="toggleMenu('collapse')">Tipo de map</button>
          <div id="collapse" class="collapse">
            <a href="#" data-map-type="osm"><i class="fas fa-mountain"></i> Terreno</a>
            <a href="#" data-map-type="calles"><i class="fas fa-road"></i> Calles</a>
            <a href="#" data-map-type="satelite"><i class="fas fa-satellite-dish"></i> Sat√©lite</a>
            <a href="#" data-map-type="Transport"><i class="fas fa-bus"></i> Transport</a>
            <a href="#" data-map-type="Landscape"><i class="fas fa-mountain"></i> Landscape</a>
            <a href="#" data-map-type="Outdoors"><i class="fas fa-tree"></i> Outdoors</a>
          </div>
        </div>
        <div class="menu-btn">
          <button onclick="toggleMenu('cuadriculasBtn')">Cuadr√≠culas</button>
          <div id="cuadriculasBtn" class="collapse">
            <div class="menu-btn">
              <button onclick="toggleMenu('tipoCuadriculaBtn')">Tipo de Cuadr√≠cula</button>
              <div id="tipoCuadriculaBtn" class="collapse">
                <button id="cuadriculaMGRS" onclick="cambiarCuadricula('MGRS')">MGRS</button>
                <button id="cuadriculaUTM" onclick="cambiarCuadricula('UTM')">UTM</button>
                <button id="cuadriculaWGS84" onclick="cambiarCuadricula('WGS84')">WGS84</button>
                <button id="cuadriculaPlana" onclick="cambiarCuadricula('Planas')">Planas</button>
                <button id="cuadriculaNinguna" onclick="cambiarCuadricula('Ninguna')">Ninguna</button>
                </div>
              </div>
            <div class="opacity-slider">
              <label for="opacitySlider">Transparencia</label>
              <input type="range" min="0" max="100" value="50" id="opacitySlider">
            </div>
            <div class="grid-width-slider">
              <label for="gridWidthSlider">Ancho de L√≠nea</label>
              <input type="range" min="1" max="10" value="2" id="gridWidthSlider">
            </div>
            <div class="color-selector">
              <label for="colorSelector">Color</label>
              <input type="color" id="colorSelector" value="#000000">
            </div>
          </div>
          <span>coordenadas del cursor</span>
          <div id="gridControls"></div>
          <label class="switch">
            <input type="checkbox" id="coordenadasCheckbox">
            <span class="slider round"></span>
          </label> </label>
        </div>
      </div>
    </div>
    <div class="menu-btn">
      <button id="herramientasBtn" data-toggle="collapse" data-target="#herramientas-menu" aria-expanded="false"
        aria-controls="herramientas-menu">
        <i class="fas fa-tools"></i> Herramientas
      </button>
      <div id="herramientas-menu" class="menu collapse">
        <div id="search-container">
          <div class="search-input-wrapper">
              <input type="text" id="busquedaLugar" placeholder="Buscar lugar...">
              <button id="btnBuscarLugar" type="buscarlugar"><i class="fas fa-search"></i></button>
          </div>
          <ul id="resultadosBusquedaLugar"></ul>
      </div>
        <a href="#" id="btnMedirDistancia"><i class="fas fa-ruler-combined"></i> Medir Distancia</a>
        <a href="#" id="PerfilElevacionBtn"><i class="fas fa-chart-line"></i> Perfil de Elevaci√≥n</a>
        <a href="#" id="btnVista3D"><i class="fas fa-cube"></i> Vista 3D</a>
        <a href="#" id="btnCalculoMarcha" ><i class="fas fa-route"></i>C√°lculo de Marcha</a>
        <a href="#" id="btnControlGestos"><i class="fas fa-hand-paper"></i> Control por Gestos</a>
      </div>
    </div>
    <div class="menu-btn">
      <button id="btnAgregarElemento" onclick="toggleMenu('agregar-menu')"><i class="fas fa-plus"> </i> Agregar Elemento</button>
      <div id="agregar-menu" class="menu collapse">
        <div class="botones-fuerza">
          <button id="boton-amigo" onclick="actualizarSidc('F')">Amigo</button>
          <button id="boton-enemigo" onclick="actualizarSidc('J')">Enemigo</button>
        </div>
      <div id="search-container">
        <div class="search-input-wrapper">
          <input type="text" id="busquedaSimbolo" placeholder="Buscar Simbolo...">
          <button id="btnBuscarSimbolo" type="button"><i class="fas fa-search"></i></button>
        </div>
        <ul id="resultadosBusquedaSimbolos"></ul>
      </div>
      <div class="menu-btn">
        <button onclick="toggleMenu('simbolosBasicosBtn')">S√≠mbolos B√°sicos</button>
        <div id="simbolosBasicosBtn" class="collapse">
          <div class="sidc-container">
            <div class="menu-btn">
              <button onclick="toggleMenu('basicos')">Generales</button>
              <div id="basicos" class="collapse submenu simbolo-grid">
                <a href="#" data-sidc="S*G-UH----" onclick="agregarMarcador(this.dataset.sidc, 'Puesto Comando')"><span
                    class="mil-symbol"></span> Puesto Comando</a>
                <a href="#" data-sidc="S*G-U-----" onclick="agregarMarcador(this.dataset.sidc, 'Elemento B√°sico')"><span
                    class="mil-symbol"></span> Elemento B√°sico</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="menu-btn">
        <button onclick="toggleMenu('infanteriaBtn')">Infanter√≠a</button>
        <div id="infanteriaBtn" class="collapse submenu">
          <div class="sidc-container">
            <a href="#" data-sidc="S-GPUCI---" onclick="agregarMarcador(this.dataset.sidc, 'infanteria')"><span
                class="mil-symbol"></span> Infanter√≠a</a>
            <a href="#" data-sidc="S-GPUCAA--" onclick="agregarMarcador(this.dataset.sidc, 'Antitanque')"><span
                class="mil-symbol"></span> Antitanque</a>
          </div>
          <div class="menu-btn">
            <button onclick="toggleMenu('infanteriaArmamentoBtn')">Armamento</button>
            <div id="infanteriaArmamentoBtn" class="collapse submenu simbolo-grid">
              <a href="#" data-sidc="S*G*EWR---" onclick="agregarMarcador(this.dataset.sidc, 'Arma B√°sica o FAL')"><span
                  class="mil-symbol"></span> FAL</a>
              <a href="#" data-sidc="S*G*EWRR--"
                onclick="agregarMarcador(this.dataset.sidc, 'Fusil Autom√°tico Pesado (FAP)')"><span
                  class="mil-symbol"></span> FAP</a>
              <a href="#" data-sidc="S*G*EWRL--"
                onclick="agregarMarcador(this.dataset.sidc, 'Ametralladora Pesada')"><span class="mil-symbol"></span>
                Ametralladora Pesada</a>
              <a href="#" data-sidc="S*G*EWA---" onclick="agregarMarcador(this.dataset.sidc, 'Arma Antia√©rea')"><span
                  class="mil-symbol"></span> Arma Antia√©rea</a>
              <a href="#" data-sidc="S*G*EWAM--"
                onclick="agregarMarcador(this.dataset.sidc, 'Ametralladora Pesada Antia√©rea')"><span
                  class="mil-symbol"></span> Ametralladora Pesada Antia√©rea</a>
              <a href="#" data-sidc="S*G*EWD---" onclick="agregarMarcador(this.dataset.sidc, 'Ca√±√≥n Antitanque')"><span
                  class="mil-symbol"></span> Ca√±√≥n Antitanque</a>
              <a href="#" data-sidc="S*G*EWG---"
                onclick="agregarMarcador(this.dataset.sidc, 'Arma Antitanque (corto alcance)')"><span
                  class="mil-symbol"></span> Arma Antitanque (corto alcance)</a>
              <a href="#" data-sidc="S*G*EWGM--"
                onclick="agregarMarcador(this.dataset.sidc, 'Arma Antitanque (largo alcance)')"><span
                  class="mil-symbol"></span> Arma Antitanque (largo alcance)</a>
              <a href="#" data-sidc="S*G*EWM---" onclick="agregarMarcador(this.dataset.sidc, 'Lanzacohetes')"><span
                  class="mil-symbol"></span> Lanzacohetes</a>
              <a href="#" data-sidc="S*G*EWO---" onclick="agregarMarcador(this.dataset.sidc, 'Mortero Liviano')"><span
                  class="mil-symbol"></span> Mortero Liviano</a>
              <a href="#" data-sidc="S*G*EWOM--" onclick="agregarMarcador(this.dataset.sidc, 'Mortero Mediano')"><span
                  class="mil-symbol"></span> Mortero Mediano</a>
              <a href="#" data-sidc="S*G*EWOH--" onclick="agregarMarcador(this.dataset.sidc, 'Mortero Pesado')"><span
                  class="mil-symbol"></span> Mortero Pesado</a>
            </div>
          </div>
          <div class="menu-btn">
            <button onclick="toggleMenu('infanteriaVehiculosBtn')">Veh√≠culos</button>
            <div id="infanteriaVehiculosBtn" class="collapse submenu simbolo-grid">
              <a href="#" data-sidc="S*G-EVAI--"
                onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo Blindado a Rueda')"><span class="mil-symbol"></span>
                Veh√≠culo Blindado a Rueda</a>
            </div>
          </div>
        </div>
      </div>

      <div class="menu-btn">
        <button onclick="toggleMenu('caballeriaBtn')">Caballer√≠a</button>
        <div id="caballeriaBtn" class="collapse submenu">
          <div class="sidc-container">
            <a href="#" data-sidc="S-G-UCR---" onclick="agregarMarcador(this.dataset.sidc, 'Caballer√≠a')"><span
                class="mil-symbol"></span> Caballer√≠a</a>
          </div>
          <div class="menu-btn">
            <button onclick="toggleMenu('caballeriaArmamentoBtn')">Armamento</button>
            <div id="caballeriaArmamentoBtn" class="collapse submenu simbolo-grid">
              <a href="#" data-sidc="S*G*EWR---" onclick="agregarMarcador(this.dataset.sidc, 'Arma B√°sica o FAL')"><span
                  class="mil-symbol"></span> FAL</a>
              <a href="#" data-sidc="S*G*EWRR--"
                onclick="agregarMarcador(this.dataset.sidc, 'Fusil Autom√°tico Pesado (FAP)')"><span
                  class="mil-symbol"></span> FAP</a>
              <a href="#" data-sidc="S*G*EWRL--"
                onclick="agregarMarcador(this.dataset.sidc, 'Ametralladora Pesada')"><span class="mil-symbol"></span>
                Ametralladora Pesada</a>
              <a href="#" data-sidc="S*G*EWA---" onclick="agregarMarcador(this.dataset.sidc, 'Arma Antia√©rea')"><span
                  class="mil-symbol"></span> Arma Antia√©rea</a>
              <a href="#" data-sidc="S*G*EWAM--"
                onclick="agregarMarcador(this.dataset.sidc, 'Ametralladora Pesada Antia√©rea')"><span
                  class="mil-symbol"></span> Ametralladora Pesada Antia√©rea</a>
              <a href="#" data-sidc="S*G*EWD---" onclick="agregarMarcador(this.dataset.sidc, 'Ca√±√≥n Antitanque')"><span
                  class="mil-symbol"></span> Ca√±√≥n Antitanque</a>
              <a href="#" data-sidc="S*G*EWG---"
                onclick="agregarMarcador(this.dataset.sidc, 'Arma Antitanque (corto alcance)')"><span
                  class="mil-symbol"></span> Arma Antitanque (corto alcance)</a>
              <a href="#" data-sidc="S*G*EWGM--"
                onclick="agregarMarcador(this.dataset.sidc, 'Arma Antitanque (largo alcance)')"><span
                  class="mil-symbol"></span> Arma Antitanque (largo alcance)</a>
              <a href="#" data-sidc="S*G*EWM---" onclick="agregarMarcador(this.dataset.sidc, 'Lanzacohetes')"><span
                  class="mil-symbol"></span> Lanzacohetes</a>
              <a href="#" data-sidc="G*G*DPOR--"
                onclick="agregarMarcador(this.dataset.sidc, 'Observador Adelantado')"><span class="mil-symbol"></span></a>
              <a href="#" data-sidc="S*G*EWO---" onclick="agregarMarcador(this.dataset.sidc, 'Mortero Liviano')"><span
                  class="mil-symbol"></span> Mortero Liviano</a>
              <a href="#" data-sidc="S*G*EWOM--" onclick="agregarMarcador(this.dataset.sidc, 'Mortero Mediano')"><span
                  class="mil-symbol"></span> Mortero Mediano</a>
              <a href="#" data-sidc="S*G*EWOH--" onclick="agregarMarcador(this.dataset.sidc, 'Mortero Pesado')"><span
                  class="mil-symbol"></span> Mortero Pesado</a>
            </div>
          </div>
          <div class="menu-btn">
            <button onclick="toggleMenu('caballeriaVehiculosBtn')">Veh√≠culos</button>
            <div id="caballeriaVehiculosBtn" class="collapse submenu simbolo-grid">
              <a href="#" data-sidc="S*G-EVAI--"
                onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo a Blindado Rueda')"><span class="mil-symbol"></span>
                Veh√≠culo a Rueda</a>
              <a href="#" data-sidc="S*G-EVAT--"
                onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo Blindado a Oruga o Semioruga (b√°sico)')"><span
                  class="mil-symbol"></span> Veh√≠culo Blindado a Oruga o Semioruga (b√°sico)</a>
              <a href="#" data-sidc="S*G-EVATM-"
                onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo Blindado a Rueda')"><span class="mil-symbol"></span>
                Veh√≠culo Blindado a Rueda</a>
              <a href="#" data-sidc="S*G-EVATH-"
                onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo Blindado a Rueda de Exploraci√≥n (mediano)')"><span
                  class="mil-symbol"></span> Veh√≠culo Blindado a Rueda de Exploraci√≥n (mediano)</a>
            </div>
          </div>
        </div>
      </div>

      <div class="menu-btn">
        <button onclick="toggleMenu('apoyoFuegoBtn')">Apoyo de Fuego</button>
        <div id="apoyoFuegoBtn" class="collapse submenu sidc-container">
          <a href="#" data-sidc="S*G-UCF---" onclick="agregarMarcador(this.dataset.sidc, 'Artiller√≠a')"><span
              class="mil-symbol"></span> Artiller√≠a</a>
          <div class="menu-btn">
            <button onclick="toggleMenu('artilleriaCampanaBtn')">Artiller√≠a de Campa√±a</button>
            <div id="artilleriaCampanaBtn" class="collapse submenu simbolo-grid sidc-container">
              <a href="#" data-sidc="S*G*EWH---"
                onclick="agregarMarcador(this.dataset.sidc, 'Ob√∫s Liviano (cal 105mm)')"><span class="mil-symbol"></span>
                Ob√∫s Liviano (cal 105mm)</a>
              <a href="#" data-sidc="S*G*EWHM--"
                onclick="agregarMarcador(this.dataset.sidc, 'Ob√∫s Mediano (cal 155mm)')"><span class="mil-symbol"></span>
                Ob√∫s Mediano (cal 155mm)</a>
              <a href="#" data-sidc="S*G*EWHH--"
                onclick="agregarMarcador(this.dataset.sidc, 'Ob√∫s Pesado (cal 240mm)')"><span class="mil-symbol"></span>
                Ob√∫s Pesado (cal 240mm)</a>
              <a href="#" data-sidc="S*G*EWD---" onclick="agregarMarcador(this.dataset.sidc, 'Ca√±√≥n Liviano')"><span
                  class="mil-symbol"></span> Ca√±√≥n Liviano</a>
              <a href="#" data-sidc="S*G*EWDL--" onclick="agregarMarcador(this.dataset.sidc, 'Ca√±√≥n Mediano')"><span
                  class="mil-symbol"></span> Ca√±√≥n Mediano</a>
              <a href="#" data-sidc="S*G*EWDM--" onclick="agregarMarcador(this.dataset.sidc, 'Ca√±√≥n Pesado')"><span
                  class="mil-symbol"></span> Ca√±√≥n Pesado</a>
              <a href="#" data-sidc="S*G*EWG---"
                onclick="agregarMarcador(this.dataset.sidc, 'Ca√±√≥n Liviano Antitanque')"><span class="mil-symbol"></span>
                Ca√±√≥n Liviano Antitanque</a>
              <a href="#" data-sidc="S*G*EWDLS-"
                onclick="agregarMarcador(this.dataset.sidc, 'Ca√±√≥n Mediano Autopropulsado')"><span
                  class="mil-symbol"></span> Ca√±√≥n Mediano Autopropulsado</a>
            </div>
          </div>

          <div class="menu-btn">
            <button onclick="toggleMenu('artilleriaAntiareaBtn')">Artiller√≠a Antia√©rea</button>
            <div id="artilleriaAntiareaBtn" class="collapse submenu simbolo-grid sidc-container">
              <a href="#" data-sidc="S*G*EWA---"
                onclick="agregarMarcador(this.dataset.sidc, 'Ca√±√≥n de Artiller√≠a Antia√©rea')"><span
                  class="mil-symbol"></span> Ca√±√≥n de Artiller√≠a Antia√©rea</a>
              <a href="#" data-sidc="S*G-EWAL--"
                onclick="agregarMarcador(this.dataset.sidc, 'Proyectil Autopropulsado Superficie-Aire')"><span
                  class="mil-symbol"></span> Proyectil Autopropulsado Superficie-Aire</a>
            </div>
          </div>
        </div>
      </div>
      <div class="menu-btn">
        <button onclick="toggleMenu('apoyoCombateBtn')">Apoyo de Combate</button>
        <div id="apoyoCombateBtn" class="collapse submenu simbolo-grid">
            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Ingenieros')" data-sidc="S*G-UCE---"><span class="mil-symbol"></span>Ingenieros</a>
            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Comunicaciones')" data-sidc="S*G-UUS---"><span class="mil-symbol"></span>Comunicaciones</a>
    
            <div class="menu-btn">
                <button onclick="toggleMenu('ingenierosBtn')">Ingenieros</button>
                <div id="ingenierosBtn" class="collapse submenu">
                  <div class="menu-btn">
                    <button onclick="toggleMenu('ingenierosVehiculosEquiposBtn')">Veh√≠culos y Equipos</button>
                    <div id="ingenierosVehiculosEquiposBtn" class="collapse submenu simbolo-grid">
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo de Combate Lanzapuentes')" data-sidc="S-G-EVEB-------"><span class="mil-symbol"></span>Veh√≠culo de Combate Lanzapuentes</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo de Ingenieros')" data-sidc="S-G-EVE--------"><span class="mil-symbol"></span>Veh√≠culo de Ingenieros</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo de Apertura de Brecha')" data-sidc="S*G*EVC---****X"><span class="mil-symbol"></span>Veh√≠culo de Apertura de Brecha</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo de Desminado')" data-sidc="S-G-EVUL-------"><span class="mil-symbol"></span>Veh√≠culo de Desminado</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo de Movilidad')" data-sidc="S*G*EVM---****X"><span class="mil-symbol"></span>Veh√≠culo de Movilidad</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Veh√≠culo Utilitario')" data-sidc="S*G*EVU---****X"><span class="mil-symbol"></span>Veh√≠culo Utilitario</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Bulldozer')" data-sidc="S*G*EVUB--****X"><span class="mil-symbol"></span>Bulldozer</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Rodillo')" data-sidc="S*G*EVUR--****X"><span class="mil-symbol"></span>Rodillo</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Excavadora')" data-sidc="S*G*EVUE--****X"><span class="mil-symbol"></span>Excavadora</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Cargador')" data-sidc="S*G*EVUL--****X"><span class="mil-symbol"></span>Cargador</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Gr√∫a')" data-sidc="S*G*EVUX--****X"><span class="mil-symbol"></span>Gr√∫a</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Volquete')" data-sidc="S*G*EVUT--****X"><span class="mil-symbol"></span>Volquete</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Cami√≥n Cisterna')" data-sidc="S-G-EVUT-------"><span class="mil-symbol"></span>Cami√≥n Cisterna</a>
                        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Buscaminas')" data-sidc="S*G*EVUSL-****X"><span class="mil-symbol"></span>Buscaminas</a>
                    </div>
                </div>
                    <div class="menu-btn">
                        <button onclick="toggleMenu('ingenierosMovilidadBtn')">Movilidad</button>
                        <div id="ingenierosMovilidadBtn" class="collapse submenu simbolo-grid">
                            <a href="#" onclick="dibujarElemento('linea', 'camino-bueno')">Camino Bueno</a>
                            <a href="#" onclick="dibujarElemento('linea', 'camino-malo')">Camino Malo</a>
                            <a href="#" onclick="dibujarElemento('linea', 'camino-pavimentado')">Camino Pavimentado</a>
                            <a href="#" onclick="dibujarElemento('linea', 'camino-tierra')">Camino de Tierra</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Puente')" data-sidc="G*M*BCB---****X"><span class="mil-symbol"></span>Puente</a>
                            <a href="#" onclick="dibujarElemento('linea', 'curso-de-agua')">Curso de Agua</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Vado')" data-sidc="G*M*BCF---**X"><span class="mil-symbol"></span>Vado</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Compuerta')" data-sidc="G*M*BCA---**X"><span class="mil-symbol"></span>Compuerta</a>
                        </div>
                    </div>
    
                    <div class="menu-btn">
                        <button onclick="toggleMenu('ingenierosContramovilidadBtn')">Contramovilidad</button>
                        <div id="ingenierosContramovilidadBtn" class="collapse submenu simbolo-grid">
                            <a href="#" onclick="dibujarElemento('poligono', 'demoliciones')">Zona de Demoliciones</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Obst√°culo')" data-sidc="G-M-OB---------"><span class="mil-symbol"></span>Obst√°culo</a>
                            <a href="#" onclick="dibujarElemento('linea', 'G-M-OMA--------')">Campo Minado</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Mina Antitanque')" data-sidc="G*M*OMD---****X"><span class="mil-symbol"></span>Mina Antitanque</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Mina Antipersonal')" data-sidc="G*M*OME---****X"><span class="mil-symbol"></span>Mina Antipersonal</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Mina Antitanque de Circunstancia')" data-sidc="G*M*OMW---****X"><span class="mil-symbol"></span>Mina Antitanque de Circunstancia</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Mina Qu√≠mica')" data-sidc="G*M*OMN---****X"><span class="mil-symbol"></span>Mina Qu√≠mica</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Alambre de P√∫as')" data-sidc="GG-M-OWL--------"><span class="mil-symbol"></span>Alambre de P√∫as</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Canalizaci√≥n')" data-sidc="G*M*OTC---****X"><span class="mil-symbol"></span>Canalizaci√≥n</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Desarticulaci√≥n')" data-sidc="G*M*OTD---****X"><span class="mil-symbol"></span>Desarticulaci√≥n</a>
                        </div>
                    </div>
    
                    <div class="menu-btn">
                        <button onclick="toggleMenu('ingenierosProteccionBtn')">Protecci√≥n</button>
                        <div id="ingenierosProteccionBtn" class="collapse submenu simbolo-grid">
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Fortificaci√≥n')" data-sidc="G-M-SF---------"><span class="mil-symbol"></span>Fortificaci√≥n</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Muro')" data-sidc="G*M*SW----****X"><span class="mil-symbol"></span>Muro</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Casamata')" data-sidc="G*M*SL----****X"><span class="mil-symbol"></span>Casamata</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'B√∫nker')" data-sidc="G*M*SP----****X"><span class="mil-symbol"></span>B√∫nker</a>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="menu-btn">
                <button onclick="toggleMenu('comunicacionesBtn')">Comunicaciones</button>
                <div id="comunicacionesBtn" class="collapse submenu">
                    <div class="menu-btn">
                        <button onclick="toggleMenu('comunicacionesComandosBtn')">Comandos, Elementos y Centros</button>
                        <div id="comunicacionesComandosBtn" class="collapse submenu simbolo-grid">
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Comando de Comunicaciones')" data-sidc="S*G-UCCS--"><span class="mil-symbol"></span>Comando de Comunicaciones</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Batall√≥n de Comunicaciones')" data-sidc="S*G-UCCB--"><span class="mil-symbol"></span>Batall√≥n de Comunicaciones</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Batall√≥n de Telecomunicaciones')" data-sidc="S*G-UCCE--"><span class="mil-symbol"></span>Batall√≥n de Telecomunicaciones</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Batall√≥n de Operaciones Electr√≥nicas')" data-sidc="S*G-UCPF--"><span class="mil-symbol"></span>Batall√≥n de Operaciones Electr√≥nicas</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Compa√±√≠a de Comunicaciones')" data-sidc="S*G-UCCA--"><span class="mil-symbol"></span>Compa√±√≠a de Comunicaciones</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Escuadr√≥n de Comunicaciones')" data-sidc="S*G-UCCE--"><span class="mil-symbol"></span>Escuadr√≥n de Comunicaciones</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Centro de Comunicaciones (Comando Principal)')" data-sidc="S*G-UCPX--"><span class="mil-symbol"></span>Centro de Comunicaciones (Comando Principal)</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Centro de Comunicaciones (Comando Alternativo)')" data-sidc="S*G-UCPXA-"><span class="mil-symbol"></span>Centro de Comunicaciones (Comando Alternativo)</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Centro de Comunicaciones (Comando de Retaguardia)')" data-sidc="S*G-UCPXR-"><span class="mil-symbol"></span>Centro de Comunicaciones (Comando de Retaguardia)</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Puesto de Comunicaciones')" data-sidc="S*G-UCP---"><span class="mil-symbol"></span>Puesto de Comunicaciones</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Centro de Mensajes')" data-sidc="S*G-UCM---"><span class="mil-symbol"></span>Centro de Mensajes</a>
                        </div>
                    </div>
    
                    <div class="menu-btn">
                        <button onclick="toggleMenu('radioelectricosBtn')">Radioel√©ctricos</button>
                        <div id="radioelectricosBtn" class="collapse submenu simbolo-grid">
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Equipo de Radio Vehicular')" data-sidc="S*G-UCRR--"><span class="mil-symbol"></span>Equipo de Radio Vehicular</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Equipo de Radiointerceptaci√≥n')" data-sidc="S*G-UCRR--"><span class="mil-symbol"></span>Equipo de Radiointerceptaci√≥n</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Equipo o Puesto de Integraci√≥n Radio a Radio')" data-sidc="S*G-UCRR--"><span class="mil-symbol"></span>Equipo o Puesto de Integraci√≥n Radio a Radio</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Estaci√≥n, Puesto o Equipo de Radio en General')" data-sidc="S*G-UCRR--"><span class="mil-symbol"></span>Estaci√≥n, Puesto o Equipo de Radio en General</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Repetidor de Radio')" data-sidc="S*G-UCRRT-"><span class="mil-symbol"></span>Repetidor de Radio</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Equipo de Integraci√≥n Radioal√°mbrica')" data-sidc="S*G-UCRRI-"><span class="mil-symbol"></span>Equipo de Integraci√≥n Radioal√°mbrica</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Equipo Radiorreceptor')" data-sidc="S*G-UCRR--"><span class="mil-symbol"></span>Equipo Radiorreceptor</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Estaci√≥n o Puesto Radiogoni√≥metro')" data-sidc="S*G-UCRRG-"><span class="mil-symbol"></span>Estaci√≥n o Puesto Radiogoni√≥metro</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Equipo, Estaci√≥n o Puesto de Radioteleimpresor')" data-sidc="S*G-UCRRT-"><span class="mil-symbol"></span>Equipo, Estaci√≥n o Puesto de Radioteleimpresor</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Puesto de Radiomulticanal')" data-sidc="S*G-UCRM--"><span class="mil-symbol"></span>Puesto de Radiomulticanal</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Repetidor de Radiomulticanal')" data-sidc="S*G-UCRMT-"><span class="mil-symbol"></span>Repetidor de Radiomulticanal</a>
                        </div>
                    </div>
    
                    <div class="menu-btn">
                        <button onclick="toggleMenu('telefoniaBtn')">Telefon√≠a</button>
                        <div id="telefoniaBtn" class="collapse submenu simbolo-grid">
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Tel√©fono de Campa√±a a Magneto')" data-sidc="S*G-UCTCP-"><span class="mil-symbol"></span>Tel√©fono de Campa√±a a Magneto</a>
                            <a href="#" onclick="dibujarElemento('linea', 'alambre-de-campana')">Alambre de Campa√±a (1 canal telef√≥nico)</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Central de Teleimpresores')" data-sidc="S*G-UCTCT-"><span class="mil-symbol"></span>Central de Teleimpresores</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Central Telef√≥nica (en un puesto de comando)')" data-sidc="S*G-UCTCP-"><span class="mil-symbol"></span>Central Telef√≥nica (en un puesto de comando)</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Central Telef√≥nica')" data-sidc="S*G-UCTCP-"><span class="mil-symbol"></span>Central Telef√≥nica</a>
                            <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Teleimpresor')" data-sidc="S*G-UCTIT-"><span class="mil-symbol"></span>Teleimpresor</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="menu-btn">
      <button onclick="toggleMenu('logisticaPersonalBtn')">Log√≠stica de Personal</button>
      <div id="logisticaPersonalBtn" class="collapse submenu simbolo-grid">
<a href="#" onclick="dibujarElemento('poligono', 'area-de-descanso')">√Årea de Descanso</a>
<a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Batall√≥n de Polic√≠a Militar')" data-sidc="S*G-USP---"><span class="mil-symbol"></span>Batall√≥n de Polic√≠a Militar</a>
<a href="#" onclick="dibujarElemento('poligono', 'campo-prisioneros-de-guerra')">Campo de Prisioneros de Guerra</a>
<a href="#" onclick="dibujarElemento('poligono', 'campo-procesamiento-prisioneros-guerra')">Campo de Procesamiento de Prisioneros de Guerra</a>
<a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Cementerio Militar')" data-sidc="S*G-USX---"><span class="mil-symbol"></span>Cementerio Militar</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Puesto de Socorro')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Puesto de Socorro</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Puesto Principal de Socorro')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Puesto Principal de Socorro</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Refugio de Heridos')" data-sidc="S*G-USX---"><span class="mil-symbol"></span>Refugio de Heridos</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Lugar de Reuni√≥n Necrol√≥gico')" data-sidc="S*G-USX---"><span class="mil-symbol"></span>Lugar de Reuni√≥n Necrol√≥gico</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Lugar de Reuni√≥n de Extraviados')" data-sidc="S*G-USX---"><span class="mil-symbol"></span>Lugar de Reuni√≥n de Extraviados</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Lugar de Reuni√≥n de Prisioneros de Guerra')" data-sidc="S*G-USP---"><span class="mil-symbol"></span>Lugar de Reuni√≥n de Prisioneros de Guerra</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Puesto Control de Tr√°nsito de Polic√≠a Militar')" data-sidc="S*G-USP---"><span class="mil-symbol"></span>Puesto Control de Tr√°nsito de Polic√≠a Militar</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Puesto de Control de Extraviados')" data-sidc="S*G-USX---"><span class="mil-symbol"></span>Puesto de Control de Extraviados</a>
<a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Oficina Postal')" data-sidc="S*G-USX---"><span class="mil-symbol"></span>Oficina Postal</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Instalaci√≥n Disciplinaria')" data-sidc="S*G-USX---"><span class="mil-symbol"></span>Instalaci√≥n Disciplinaria</a>
<a href="#" onclick="agregarMarcadorConTexto(this.dataset.sidc, 'Consejo de Guerra Permanente')" data-sidc="S*G-USX---"><span class="mil-symbol"></span>Consejo de Guerra Permanente</a>
</div>
</div>

<div class="menu-btn">
<button onclick="toggleMenu('logisticaSanidadBtn')">Log√≠stica de Sanidad</button>
<div id="logisticaSanidadBtn" class="collapse submenu simbolo-grid">
<a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Batall√≥n de Sanidad')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Sanidad</a>
<a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Hospital')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Hospital</a>
<a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Hospital de Campa√±a')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Hospital de Campa√±a</a>
<a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Hospital Quir√≥fano M√≥vil')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Hospital Quir√≥fano M√≥vil</a>
</div>
</div>

<div class="menu-btn">
<button onclick="toggleMenu('logisticaMaterialBtn')">Log√≠stica de Material</button>
<div id="logisticaMaterialBtn" class="collapse submenu">
<div class="menu-btn">
<button onclick="toggleMenu('intendenciaBtn')">Intendencia</button>
<div id="intendenciaBtn" class="collapse submenu simbolo-grid">
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Instalaci√≥n de Intendencia')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Instalaci√≥n de Intendencia</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Instalaci√≥n de Agua')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Instalaci√≥n de Agua</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Dep√≥sito de Intendencia (Clase II y IV)')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Dep√≥sito de Intendencia (Clase II y IV)</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Lugar de Distribuci√≥n de Efectos Clase I')" data-sidc="S-G-USSPA----"><span class="mil-symbol"></span>Lugar de Distribuci√≥n de Efectos Clase I</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Lugar de Abastecimiento de Efectos Clase III')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Lugar de Abastecimiento de Efectos Clase III</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Lugar de Reuni√≥n de Efectos Clase II y IV')" data-sidc="S*G-USS---"><span class="mil-symbol"></span>Lugar de Reuni√≥n de Efectos Clase II y IV</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Armaz√≥n para Pozo de Petr√≥leo')" data-sidc="S*G-USSW--"><span class="mil-symbol"></span>Armaz√≥n para Pozo de Petr√≥leo</a>
        <a href="#" onclick="dibujarElemento('linea', 'tuberia')">Tuber√≠a</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Dep√≥sito Tanque (contenido conocido - petr√≥leo)')" data-sidc="S*G-USSW--"><span class="mil-symbol"></span>Dep√≥sito Tanque (contenido conocido - petr√≥leo)</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Dep√≥sito Tanque Enterrado')" data-sidc="S*G-USSW--"><span class="mil-symbol"></span>Dep√≥sito Tanque Enterrado</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Dep√≥sito Tanque de Gas')" data-sidc="S*G-USSW--"><span class="mil-symbol"></span>Dep√≥sito Tanque de Gas</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Dep√≥sito Tanque (capacidad conocida)')" data-sidc="S*G-USSW--"><span class="mil-symbol"></span>Dep√≥sito Tanque (capacidad conocida)</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Parque de Dep√≥sitos Tanque')" data-sidc="S*G-USSW--"><span class="mil-symbol"></span>Parque de Dep√≥sitos Tanque</a>
    </div>
  </div>
<div class="menu-btn">
  <button onclick="toggleMenu('arsenalesBtn')">Arsenales</button>
  <div id="arsenalesBtn" class="collapse submenu simbolo-grid">
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Instalaci√≥n de Arsenales')" data-sidc="S*G-USA---"><span class="mil-symbol"></span>Instalaci√≥n de Arsenales</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Dep√≥sito de Abastecimiento de Arsenales (Clase II y IV)')" data-sidc="S*G-USA---"><span class="mil-symbol"></span>Dep√≥sito de Abastecimiento de Arsenales (Clase II y IV)</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Dep√≥sito de Abastecimiento de Munici√≥n')" data-sidc="S*G-USA---"><span class="mil-symbol"></span>Dep√≥sito de Abastecimiento de Munici√≥n</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Lugar de Reuni√≥n de Arsenales')" data-sidc="S*G-USA---"><span class="mil-symbol"></span>Lugar de Reuni√≥n de Arsenales</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Lugar de Distribuci√≥n de Munici√≥n')" data-sidc="S*G-USA---"><span class="mil-symbol"></span>Lugar de Distribuci√≥n de Munici√≥n</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Lugar de Abastecimiento de Efectos Clase II y IV')" data-sidc="S*G-USA---"><span class="mil-symbol"></span>Lugar de Abastecimiento de Efectos Clase II y IV</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Lugar de Recolecci√≥n de Arsenales (Clase II y IV)')" data-sidc="S*G-USA---"><span class="mil-symbol"></span>Lugar de Recolecci√≥n de Arsenales (Clase II y IV)</a>
            </div>
        </div>
    </div>
  </div>

  <div class="menu-btn">
    <button onclick="toggleMenu('transporteBtn')">Transporte</button>
    <div id="transporteBtn" class="collapse submenu simbolo-grid">
        <a href="#" onclick="dibujarElemento('linea', 'transito-alternado')">Tr√°nsito Alternado</a>
        <a href="#" onclick="dibujarElemento('linea', 'ruta-abierta')">Ruta Abierta</a>
        <a href="#" onclick="dibujarElemento('linea', 'ruta-supervisada')">Ruta Supervisada</a>
        <a href="#" onclick="dibujarElemento('linea', 'ruta-despacho')">Ruta de Despacho</a>
        <a href="#" onclick="dibujarElemento('linea', 'ruta-reservada')">Ruta Reservada</a>
        <a href="#" onclick="dibujarElemento('linea', 'limite-secciones-carreteras')">L√≠mite entre Secciones de Carreteras</a>
        <a href="#" onclick="dibujarElemento('linea', 'itinerario-guardado')">Itinerario Guardado</a>
        <a href="#" onclick="dibujarElemento('linea', 'seccion-carretera-intransitable')">Secci√≥n de Carretera Intransitable</a>
        <a href="#" onclick="dibujarElemento('linea', 'transito-mano-unica')">Tr√°nsito de Mano √önica</a>
        <a href="#" onclick="dibujarElemento('linea', 'transito-doble-mano')">Tr√°nsito de Doble Mano</a>
        <a href="#" onclick="dibujarElemento('linea', 'desvio')">Desv√≠o</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Aeropuerto')" data-sidc="G*I*BA----****X"><span class="mil-symbol"></span>Aeropuerto (Embarque)</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Oficina de Secci√≥n de Transporte')" data-sidc="S*G*USS---****X"><span class="mil-symbol"></span>Oficina de Secci√≥n de Transporte</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Puerto (de Carga)')" data-sidc="G*I*PN----****X"><span class="mil-symbol"></span>Puerto (de Carga)</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Oficina de Distrito')" data-sidc="S*G*USS---****X"><span class="mil-symbol"></span>Oficina de Distrito</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Oficina de Transporte Ferroviario')" data-sidc="S*G*USS---****X"><span class="mil-symbol"></span>Oficina de Transporte Ferroviario</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Oficina de la Zona de Transporte')" data-sidc="S*G*USS---****X"><span class="mil-symbol"></span>Oficina de la Zona de Transporte</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Terminal en general')" data-sidc="G*I*BC----****X"><span class="mil-symbol"></span>Terminal en general</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Terminal para carga')" data-sidc="G*I*BC----****X"><span class="mil-symbol"></span>Terminal para carga</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Terminal para personal')" data-sidc="G*I*BC----****X"><span class="mil-symbol"></span>Terminal para personal</a>
    </div>
  </div>

  <div class="menu-btn">
    <button onclick="toggleMenu('mccGeneralesBtn')">MCC</button>
    <div id="mccGeneralesBtn" class="collapse submenu simbolo-grid">
        <a href="#" onclick="dibujarElemento('poligono', 'SFFPAO----', 'Objetivo')">Objetivo</a>
        <a href="#" onclick="dibujarFlecha('flecha', 'Direcci√≥n de Ataque')">Direcci√≥n de Ataque</a>
        <a href="#" onclick="dibujarElemento('flechaAncha', 'G*G*OLAA--****X', 'Eje de Avance')">Eje de Avance</a>
        <a href="#" onclick="dibujarElemento('poligono', 'G*G*OAA---****X')">√Årea de Operaciones</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*G*OLK---****X', 'L√≠nea de Coordinaci√≥n')">LLA</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*M*OGB---****X')">Bloqueo</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*G*OLR---****X')">Retirada</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*G*OLAA--****X')">L√≠mite de √Årea</a>
        <a href="#" onclick="dibujarElemento('poligono', 'G*G*OAR---****X')">Zona de Reuni√≥n</a>
        <a href="#" onclick="dibujarElemento('linea', 'limite-entre-dos-elementos')">L√≠mite entre dos elementos</a>
        <a href="#" onclick="dibujarElemento('linea', 'limite-dentro-de-un-objetivo')">L√≠mite dentro de un objetivo</a>
        <a href="#" onclick="dibujarElemento('linea', 'limite-exploracion-seguridad')">L√≠mite de Exploraci√≥n y Seguridad</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*G*OLC---****X')">L√≠nea de Contacto (tropas amigas)</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*G*OLC---****X')">L√≠nea de Contacto (tropas enemigas)</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*G*OLC---****X')">L√≠nea de Contacto (tropas amigas y enemigas)</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*G*OLC---****X')">L√≠nea de Contacto (tropas enemigas se defienden)</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*G*OLC---****X')">L√≠nea de Contacto (tropas amigas atacan)</a>
        <a href="#" onclick="dibujarElemento('linea', 'LCFin')">L√≠nea de Coordinaci√≥n Final</a>
        <a href="#" onclick="dibujarElemento('linea', 'LPAtq')">L√≠nea de Partida para el Ataque</a>
        <a href="#" onclick="agregarPuntoControl('PC')"> Punto de Control (PC)</a>
        <a href="#" onclick="agregarPuntoControl('PI')">Punto Inicial (PI)</a>
        <a href="#" onclick="agregarPuntoControl('PT')">Punto Terminal (PT)</a>
        <a href="#" onclick="agregarPuntoControl('PD')"> Punto de Desdoblamiento (PD)</a>
        <a href="#" onclick="agregarPuntoControl('PE')"> Punto de Encolumnamiento (PE)</a>
        <a href="#" onclick="agregarPuntoControl('PP')"> Punto de Pasaje (PP)</a>

    </div>
  </div>

  <div class="menu-btn">
    <button onclick="toggleMenu('fuegosBtn')">MCCF</button>
    <div id="fuegosBtn" class="collapse submenu simbolo-grid">
        <a href="#" onclick="dibujarElemento('poligono', 'G*F*ACSR--****X')">√Årea de Fuego Restringido (AFR)</a>
        <a href="#" onclick="dibujarElemento('poligono', 'G*F*ACNR--****X')">√Årea de NO Fuego (ANF)</a>
        <a href="#" onclick="dibujarElemento('Linea', 'Barrera')">Barrera</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Base Ac√∫stica')" data-sidc="S*G*USAS--****X"><span class="mil-symbol"></span>Base Ac√∫stica</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Base √ìptica')" data-sidc="S*G*USAO--****X"><span class="mil-symbol"></span>Base √ìptica</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Centro de Bater√≠a')" data-sidc="S*G*USAT--****X"><span class="mil-symbol"></span>Centro de Bater√≠a</a>
        <a href="#" onclick="dibujarElemento('poligono', 'G*F*AT----****X')">Concentraci√≥n de Tiro</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Estaci√≥n Meteorol√≥gica')" data-sidc="S*G*USAM--****X"><span class="mil-symbol"></span>Estaci√≥n Meteorol√≥gica</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*F*LT----****X')">Grupo de Fuegos</a>
        <a href="#" onclick="dibujarElemento('linea', 'LCAF')">L√≠nea de Coordinaci√≥n de Apoyo de Fuego (LCAF)</a>
        <a href="#" onclick="dibujarElemento('linea', 'LCSF')">L√≠nea de Coordinaci√≥n y Seguridad de los Fuegos (LCSF)</a>
        <a href="#" onclick="dibujarElemento('linea', 'LCF')">L√≠nea de Coordinaci√≥n de los Fuegos (LCF)</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Posici√≥n de Observador Adelantado')" data-sidc="G*G*OPO---****X"><span class="mil-symbol"></span>Posici√≥n de Observador Adelantado</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Posici√≥n de Radar')" data-sidc="S*G*USAP--****X"><span class="mil-symbol"></span>Posici√≥n de Radar</a>
        <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Puesto de Observaci√≥n')" data-sidc="G*G*GPO---****X"><span class="mil-symbol"></span>Puesto de Observaci√≥n</a>
        <a href="#" onclick="dibujarElemento('linea', 'punto-registro-blanco')">Punto Registro Blanco</a>
        <a href="#" onclick="dibujarElemento('linea', 'G*F*LTS---****X')">L√≠nea de Apertura de Fuego</a>
        <a href="#" onclick="dibujarElemento('poligono', 'G*F*AZFX--****X')">Zona de Apoyo de Fuego (ZAF)</a>
        <a href="#" onclick="dibujarElemento('poligono', 'G*F*AZFX--****X')">Zona de Fuego</a>
        <a href="#" onclick="dibujarElemento('poligono', 'G*F*AZXX--****X')">Zona de Responsabilidad de Fuego Naval (ZRFN)</a>
    </div>
  </div>

  <div class="menu-btn">
    <button onclick="toggleMenu('toeBtn')">TOE (Tropas de Operaciones Especiales)</button>
    <div id="toeBtn" class="collapse submenu">
        <div class="menu-btn">
            <button onclick="toggleMenu('comandosTOEBtn')">Comandos</button>
            <div id="comandosTOEBtn" class="collapse submenu simbolo-grid">
                <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Comando')" data-sidc="S*G*UCIZ--****X"><span class="mil-symbol"></span>Comando</a>
            </div>
        </div>
        <div class="menu-btn">
          <button onclick="toggleMenu('cazadoresBtn')">Cazadores</button>
          <div id="cazadoresBtn" class="collapse submenu simbolo-grid">
                <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Cazador de Monte')" data-sidc="S*G*UCIZ--****X"><span class="mil-symbol"></span>Cazador de Monte</a>
                <a href="#" onclick="agregarMarcador(this.dataset.sidc, 'Cazador de Monta√±a')" data-sidc="S*G*UCIZ--****X"><span class="mil-symbol"></span>Cazador de Monta√±a</a>
            </div>
        </div>
    </div>
  </div>
  </div>
  </div>

  <div class="menu-btn">
    <button id="calcoBtn" data-toggle="collapse" data-target="#calcos-menu">
      <i class="fas fa-layer-group"></i> Calcos
    </button>
    <div id="calcos-menu" class="menu collapse">
      <div>
        <a href="#" id="nuevoCalcoBtn"><i class="fas fa-plus"></i> Nuevo Calco</a>
        <a href="#" id="cargarCalcoBtn"><i class="fas fa-upload"></i> Cargar Calco</a>
        <a href="#" id="guardarCalcoBtn"><i class="fas fa-save"></i> Guardar Calco</a>
        <a href="#" id="imprimirBtn"><i class="fas fa-print"></i> Imprimir</a>
        <div id="calcosLista">
        <!-- Aqu√≠ se agregar√°n los calcos din√°micamente -->
        </div>
    </div>
    </div>
  </div>
  <div class="menu-btn">
    <button id="ayudaBtn" data-toggle="collapse" data-target="#helpMenu" aria-expanded="false" aria-controls="helpMenu">
      <i class="fas fa-question"></i> Ayuda
    </button>
    <div id="helpMenu" class="menu collapse">
      <a href="#" id="documentacionBtn">
        <i class="fas fa-book"></i> Documentaci√≥n
      </a>
      <a href="#" id="atajosBtn">
        <i class="fas fa-keyboard"></i> Atajos de Teclado
      </a>
      <a>
        <label for="switchTutorial">Activar tutorial</label>
        <input type="checkbox" id="switchTutorial" onchange="toggleTutorial()">
      </a>
    </div>
  </div>
  </div>

  <main>
    <!-- ‚úÖ √öNICO CONTENEDOR DE map -->
    <div id="map" style="height: 100vh; width: 100vw;"></div>
      
    <!-- Vista 3D Integrada (oculta por defecto) -->
    <div id="vista3D" class="vista-3d-integrada" style="display: none;">
        <canvas id="canvas3d"></canvas>
        
        <!-- Panel de Control 3D Integrado -->
        <div id="panel3DIntegrado" class="panel-3d-integrado">
          <!-- Se poblar√° din√°micamente con los controles del sistema t√°ctico 3D -->
        </div>
        
        <!-- HUD 3D -->
        <div id="hud3D" class="hud-3d-overlay">
          <div class="hud-superior-3d">
            <strong>üéÆ MODO T√ÅCTICO 3D ACTIVO</strong>
            <button id="btn3DToMap" class="btn-cambio-vista">üìã Volver a map 2D</button>
          </div>
        </div>
      </div>
    
    <!-- Panel Inferior Unificado - Estilo Total War Rome 3 -->
    <div id="panelInferiorUnificado" class="panel-inferior-unificado">
      <!-- Secci√≥n Izquierda: Informaci√≥n de Fase y Turno (Din√°mica) -->
      <div class="seccion-info">
        <div class="info-fase">
          <div class="fase-actual">
            <span class="fase-numero" id="faseNumero">FASE -</span>
            <span class="fase-nombre" id="faseNombre">Cargando...</span>
          </div>
          <div class="turno-info">
            <span class="turno-label">TURNO:</span>
            <span class="turno-numero" id="turnoNumero">-</span>
          </div>
        </div>
        <div class="tiempo-restante">
          <span class="tiempo-label">TIEMPO:</span>
          <span class="tiempo-valor" id="tiempoValor">--:--</span>
        </div>
      </div>
      
      <!-- Secci√≥n Central: Controles del Jugador (Din√°micos) -->
      <div class="seccion-controles">
        <div class="controles-principales" id="controlesPrincipales">
          <!-- Los botones se generan din√°micamente seg√∫n la fase -->
        </div>
      </div>
      
      <!-- Secci√≥n Derecha: Minimapa y Controles -->
      <div class="seccion-acciones">
        <div class="minimapa-container">
          <div class="minimapa" id="minimapa">
            <!-- Mini map se renderiza aqu√≠ -->
          </div>
        </div>
      </div>

      <!-- Elementos del Jugador (solo visible durante despliegue/combate) -->
      <div class="elementos-jugadores" id="elementosJugadores" style="display: none;">
        <!-- Los elementos se actualizan din√°micamente -->
      </div>
    </div>
    
    <div>
      <button id="fullscreenBtn" class="fullscreen-button"><i class="fas fa-expand"></i></button>
    </div>
    <div id="botones-secundarios">
      <button id="btnDeshacer" onclick="deshacer()" disabled><i class="fas fa-undo-alt"></i></button>
      <button id="btnRehacer" onclick="rehacer()" disabled><i class="fas fa-redo-alt"></i></button>
      <button id="btnVolver" class="boton-volver"><i class="fas fa-arrow-left"></i></button>
    </div>
    <div id="coordenadas" class="coordenadas-display"></div>
    <div id="medicionDistancia" class="medicion-display">
      <span id="textoMedicion"></span>
      <button id="cerrarMedicion">X</button>
    </div>

    <div id="panelEdicionLinea" class="panel">
      <h3>Editar L√≠nea</h3>
      <div>
          <label for="nombreLinea">Nombre:</label>
          <input type="text" id="nombreLinea">
      </div>
      <div>
          <label for="colorLinea">Color:</label>
          <input type="color" id="colorLinea">
      </div>
      <div>
          <label for="anchoLinea">Ancho:</label>
          <input type="number" id="anchoLinea" min="1" max="10">
      </div> 
      <div>
          <label for="tipoLinea">Tipo:</label>
          <select id="tipoLinea">
              <option value="solid">S√≥lida</option>
              <option value="dashed">Punteada</option>
          </select> 
      </div>
      <div class="panel-buttons">
          <button id="guardarCambiosLinea">Guardar Cambios</button>
          <button onclick="cerrarPanelEdicion('panelEdicionLinea')">Cerrar</button>
      </div>
    </div>

    <div id="panelEdicionUnidad" class="panel">
      <h3>Editar Unidad</h3>
      <div class="tab">
          <button class="tablinks" data-tab="SIDC">SIDC</button>
          <button class="tablinks" data-tab="Informacion">Informaci√≥n</button>
          <button class="tablinks" data-tab="Caracteristicas">Caracter√≠sticas</button>
      </div>

      <div id="sidcDisplay"></div>

      <div id="SIDC" class="tabcontent">
          <div>
              <label for="afiliacion">Afiliaci√≥n:</label>
              <select id="afiliacion">
                  <option value="-">Desconocido</option>
                  <option value="F">Amigo</option>
                  <option value="J">Hostil/Enemigo</option>
              </select>
          </div>
          <div>
              <label for="estado">Estado:</label>
              <select id="estado">
                  <option value="P">Presente</option>
                  <option value="A">Planeado</option>
              </select>
          </div>
          <div>
              <label for="arma">Arma:</label>
              <select id="arma"></select>
          </div>
          <div>
              <label for="tipo">Tipo:</label>
              <select id="tipo"></select>
          </div>
          <div>
              <label for="caracteristica">Caracter√≠stica:</label>
              <select id="caracteristica"></select>
          </div>
          <div>
              <label for="tipoVehiculo">Tipo de Veh√≠culo:</label>
              <select id="tipoVehiculo">
                  <option value="">Seleccionar tipo...</option>
              </select>
          </div>
          <div>
              <label for="magnitud">Magnitud:</label>
              <select id="magnitud">
                  <option value="-">No especificado</option>
                  <option value="A">Equipo/Tripulaci√≥n</option>
                  <option value="B">peloton</option>
                  <option value="C">grupo</option>
                  <option value="D">Secci√≥n</option>
                  <option value="E">Compa√±√≠a/Escuadr√≥n/Bater√≠a</option>
                  <option value="F">Regimiento/Batall√≥n/Grupo</option>
                  <option value="G">Brigada</option>
                  <option value="H">Divisi√≥n</option>
                  <option value="I">Cuerpo/MEF</option>
                  <option value="J">Ej√©rcito</option>
              </select>
          </div>
      </div>

      <div id="Informacion" class="tabcontent">
          <div>
              <label for="designacion">Designaci√≥n:</label>
              <input type="text" id="designacion">
          </div>
          <div>
              <label for="dependencia">Dependencia:</label>
              <input type="text" id="dependencia">
          </div>
      </div>

      <div id="Caracteristicas" class="tabcontent">
          <div>
              <input type="checkbox" id="puestoComando">
              <label for="puestoComando">Puesto de Comando</label>
          </div>
          <div>
              <input type="checkbox" id="fuerzaTarea">
              <label for="fuerzaTarea">Fuerza de Tarea</label>
          </div>
          <div>
              <input type="checkbox" id="reforzado">
              <label for="reforzado">Reforzado</label>
          </div>
          <div>
              <input type="checkbox" id="disminuido">
              <label for="disminuido">Disminuido</label>
          </div>
      </div>

      <div class="panel-buttons">
          <button id="guardarCambiosUnidad">Guardar Cambios</button>
          <button onclick="cerrarPanelEdicion('panelEdicionUnidad')">Cerrar</button>
      </div>
    </div>

    <div id="panelEdicionEquipo" class="panel">
      <h3>Editar Equipo</h3>
      
      <div id="sidcDisplayEquipo"></div>
      
      <div class="tab">
          <button class="tablinks" data-tab="SIDCEquipo">SIDC</button>
          <button class="tablinks" data-tab="InformacionEquipo">Informaci√≥n</button>
      </div>

      <div id="SIDCEquipo" class="tabcontent">
          <div>
              <label for="afiliacionEquipo">Afiliaci√≥n:</label>
              <select id="afiliacionEquipo">
                  <option value="-">Desconocido</option>
                  <option value="F">Amigo</option>
                  <option value="J">Hostil/Enemigo</option>
              </select>
          </div>
          <div>
              <label for="tipoVehiculoEquipo" id="labelTipoEquipo">Tipo de Veh√≠culo:</label>
              <select id="tipoVehiculoEquipo">
                  <option value="">Seleccionar tipo...</option>
              </select>
          </div>
      </div>

      <div id="InformacionEquipo" class="tabcontent">
          <div>
              <label for="designacionEquipo">Designaci√≥n:</label>
              <input type="text" id="designacionEquipo">
          </div>
          <div>
              <label for="asignacionEquipo">Asignaci√≥n:</label>
              <input type="text" id="asignacionEquipo">
          </div>
      </div>

      <div class="panel-buttons">
          <button id="guardarCambiosEquipo">Guardar Cambios</button>
          <button onclick="cerrarPanelEdicion('panelEdicionEquipo')">Cerrar</button>
      </div>
    </div>

    <div id="panelEdicionMCC" class="panel">
      <h3>Editar Elemento MCC</h3>
      <div>
          <label for="textoMCC">Texto:</label>
          <input type="text" id="textoMCC">
      </div>
      <div>
          <label for="colorMCC">Color:</label>
          <input type="color" id="colorMCC">
      </div>
      <div>
          <label for="anchoMCC">Ancho:</label>
          <input type="number" id="anchoMCC" min="1" max="10">
      </div>
      <div>
          <label for="colorRellenoMCC">Color de relleno:</label>
          <input type="color" id="colorRellenoMCC">
      </div>
      <div>
          <label for="tipoLineaMCC">Tipo de l√≠nea:</label>
          <select id="tipoLineaMCC">
              <option value="solid">S√≥lida</option>
              <option value="dashed">Punteada</option>
          </select>
      </div>
      <div id="rellenoMCC" style="display: none;">
          <label for="tipoRellenoMCC">Tipo de relleno:</label>
          <select id="tipoRellenoMCC">
            <option value="none">Sin relleno</option>
            <option value="solid">S√≥lido</option>
            <option value="diagonal">Diagonal</option>
            <option value="rombos">Rombos</option>
            <option value="cuadros">Cuadros</option>
            <option value="puntos">Puntos</option>
        </select>
      </div>
      <div class="panel-buttons">
          <button id="guardarCambiosMCC">Guardar Cambios</button>
          <button onclick="cerrarPanelEdicion('panelEdicionMCC')">Cerrar</button>
      </div>
    </div>

    <div id="calculoMarchaContainer" style="display: none;"></div>
    <!-- Sistema de Notificaciones Push/Pop -->
    <div id="notificationContainer" class="notification-container"></div>

    <!-- Paneles espec√≠ficos -->
    <div id="panelMarchaContainer" style="display: none;"></div>

    <!-- Panel Perfil de Elevaci√≥n -->
    <div id="perfilElevacionDisplay" class="sub-panel" style="display: none;">
      <div class="display-header">
          <h3>Perfil de Elevaci√≥n</h3>
          <div class="display-controls">
              <button id="btnFullscreenElevation" class="btn-fullscreen" title="Pantalla completa">‚õ∂</button>
              <button id="btnSaveElevation" class="btn-save" title="Guardar">‚Üì</button>
              <button id="btnPrintElevation" class="btn-print" title="Imprimir">‚éô</button>
              <button id="elevation-close-button" class="btn-cerrar" onclick="cerrarPanel('perfilElevacionDisplay')">√ó</button>
          </div>
      </div>
      <div class="display-content" style="display: none;">
          <!-- Contenido del perfil de elevaci√≥n se cargar√° aqu√≠ -->
      </div>
    </div>

    <!-- Panel Gr√°fico de Marcha -->
    <div id="graficoMarchaPanel" class="sub-panel" style="display: none;">
      <div class="display-header">
          <h3>Gr√°fico de Marcha</h3>
          <div class="display-controls">
              <button id="btnFullscreenGrafico" class="btn-fullscreen" title="Pantalla completa">‚õ∂</button>
              <button id="btnSaveGrafico" class="btn-save" title="Guardar">‚Üì</button>
              <button id="btnPrintGrafico" class="btn-print" title="Imprimir">‚éô</button>
              <button id="cerrarPanelGrafico" class="btn-cerrar">√ó</button>
          </div>
      </div>
      <div class="display-content">
          <!-- El gr√°fico D3 se insertar√° aqu√≠ -->
      </div>
    </div>
    
    <!-- Panel C√°lculo de Marcha -->
    <div id="calculoMarchaPanel" class="sub-panel" style="display: none;">
      <div class="display-header">
          <h3>C√°lculo de Marcha</h3>
          <div class="display-controls">
              <button id="btnFullscreenCalculo" class="btn-fullscreen" title="Pantalla completa">‚õ∂</button>
              <button id="btnSaveCalculo" class="btn-save" title="Guardar">‚Üì</button>
              <button id="btnPrintCalculo" class="btn-print" title="Imprimir">‚éô</button>
              <button id="cerrarPanelCalculo" class="btn-cerrar" onclick="cerrarPanel('calculoMarchaPanel')">√ó</button>
          </div>
      </div>
      <div class="display-content" id="calculoMarchaContent">
          <!-- Contenido de c√°lculo de marcha se cargar√° aqu√≠ -->
      </div>
      <div id="detallesMarchaContainer" class="detalles-marcha-container"></div>
    </div>
  </main>

  <!-- ‚úÖ Inicializaci√≥n SIMPLE y LIMPIA -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('üöÄ MAIRA 4.0 - Juego de Guerra (Modo Limpio)');
        
        // Esperar a que el map est√© inicializado antes de inicializar el sistema de juego
        esperarMapaInicializado().then(() => {
            // Usar el inicializador principal en lugar de c√≥digo personalizado
            if (typeof InicializadorJuegoGuerra !== 'undefined') {
                const inicializador = new InicializadorJuegoGuerra();
                inicializador.inicializar().then(exito => {
                    if (exito) {
                        console.log('‚úÖ Sistema de juego inicializado correctamente con InicializadorJuegoGuerra');
                    } else {
                        console.warn('‚ö†Ô∏è Fall√≥ la inicializaci√≥n con InicializadorJuegoGuerra');
                    }
                });
            } else {
                console.warn('‚ö†Ô∏è InicializadorJuegoGuerra no disponible, usando inicializaci√≥n b√°sica');
                inicializarSistemaJuego();
            }
            
            // Solo verificar que el sistema est√© limpio despu√©s de la inicializaci√≥n
            setTimeout(function() {
                console.log('üßπ Sistema iniciado - Verificando estado');
                
                // Verificar estado del map
                if (typeof window.map !== 'undefined') {
                    console.log('‚úÖ map principal inicializado:', window.map.getCenter());
                } else {
                    console.warn('‚ö†Ô∏è map no encontrado');
                }
                
                // Verificar funcionalidades b√°sicas
                if (typeof window.sistemaZoom !== 'undefined') {
                    console.log('‚úÖ Sistema de zoom disponible');
                }
                
                console.log('‚úÖ MAIRA 4.0 listo para usar');
                
                // Configurar event listener para Vista 3D
                const btnVista3D = document.getElementById('btnVista3D');
                if (btnVista3D) {
                    btnVista3D.addEventListener('click', function(e) {
                        e.preventDefault();
                        // ‚úÖ USAR SISTEMA UNIFICADO MAIRA 3D MASTER
                        if (window.maira3DSystem && typeof window.maira3DSystem.cambiarAVista3D === 'function') {
                            window.maira3DSystem.cambiarAVista3D();
                        } else {
                            console.warn('‚ö†Ô∏è Sistema 3D MAIRA no disponible - maira3DMaster.js no cargado');
                        }
                    });
                    console.log('‚úÖ Event listener Vista 3D configurado');
                }
                
                // Inicializar HexGrid si existe
                if (typeof HexGrid !== 'undefined' && window.map) {
                    HexGrid.initialize(window.map);
                    console.log('‚úÖ HexGrid inicializado');
                    
                    // Activar selecci√≥n de hex√°gonos por defecto
                    if (window.MAIRA && window.MAIRA.DirectorManager) {
                        setTimeout(() => {
                            window.MAIRA.DirectorManager.activarSeleccionHexagonos();
                            console.log('‚úÖ Selecci√≥n de hex√°gonos activada por defecto');
                        }, 1000);
                    }
                } else if (typeof HexGrid !== 'undefined') {
                    console.warn('‚ö†Ô∏è HexGrid disponible pero map no inicializado');
                } else {
                    console.warn('‚ö†Ô∏è HexGrid no disponible');
                }
            }, 2000);
        });
    });

    // Funci√≥n para esperar a que el map est√© inicializado
    function esperarMapaInicializado() {
        return new Promise((resolve) => {
            // Si el map ya est√° inicializado, resolver inmediatamente
            if (typeof window.map !== 'undefined' && window.map && typeof window.map.getCenter === 'function') {
                console.log('‚úÖ map ya inicializado, continuando...');
                resolve();
                return;
            }
            
            // Si no, esperar hasta 10 segundos m√°ximo
            let intentos = 0;
            const maxIntentos = 100; // 10 segundos (100 * 100ms)
            
            const verificarMapa = () => {
                intentos++;
                
                if (typeof window.map !== 'undefined' && window.map && typeof window.map.getCenter === 'function') {
                    console.log('‚úÖ map inicializado despu√©s de esperar, continuando...');
                    resolve();
                } else if (intentos >= maxIntentos) {
                    console.error('‚ùå Timeout esperando inicializaci√≥n del map');
                    // Resolver de todos modos para no bloquear la aplicaci√≥n
                    resolve();
                } else {
                    setTimeout(verificarMapa, 100);
                }
            };
            
            console.log('‚è≥ Esperando inicializaci√≥n del map...');
            verificarMapa();
        });
    }

    // Funci√≥n para inicializar el sistema de juego
    async function inicializarSistemaJuego() {
        try {
            console.log('üéÆ Inicializando sistema de juego...');

            // Configuraci√≥n por defecto para modo local
            const configuracionJuego = {
                modoJuego: 'local',
                duracionTurno: 300000, // 5 minutos
                centro: [-34.6037, -58.3816], // Buenos Aires
                zoom: 13,
                jugadores: [
                    { id: 'jugador1', nombre: 'Jugador Azul', equipo: 'azul' },
                    { id: 'jugador2', nombre: 'Jugador Rojo', equipo: 'rojo' }
                ]
            };

            // Crear e inicializar el gestor de juego
            if (typeof GestorJuego !== 'undefined') {
                window.gestorJuego = new GestorJuego();
                await window.gestorJuego.inicializar(configuracionJuego);

                // Hacer disponibles las referencias globales de los gestores
                window.gestorFases = window.gestorJuego.gestorFases;
                window.gestorTurnos = window.gestorJuego.gestorTurnos;
                window.gestorInterfaz = window.gestorJuego.gestorInterfaz;
                window.gestorMapa = window.gestorJuego.gestorMapa;
                window.gestorAcciones = window.gestorJuego.gestorAcciones;
                window.gestorComunicacion = window.gestorJuego.gestorComunicacion;

                console.log('‚úÖ Sistema de juego inicializado correctamente');
                console.log('üìä Estado inicial:', {
                    fase: window.gestorFases?.fase,
                    subfase: window.gestorFases?.subfase,
                    jugadorActual: window.gestorTurnos?.jugadorActual
                });

                // Inicializar chat para modo local
                inicializarChatLocal();
            } else {
                console.error('‚ùå GestorJuego no encontrado');
            }

        } catch (error) {
            console.error('‚ùå Error al inicializar sistema de juego:', error);
        }
    }

    // Funci√≥n para inicializar chat en modo local
    function inicializarChatLocal() {
        try {
            console.log('üí¨ Inicializando chat local...');

            // Verificar que MAIRAChat est√© disponible
            if (typeof MAIRAChat !== 'undefined') {
                // Inicializar chat con configuraci√≥n para juegodeguerra
                const exito = MAIRAChat.inicializar({
                    forzarCreacion: true, // Forzar creaci√≥n de contenedores
                    usuario: window.userId || 'Jugador',
                    socket: null // Modo local, sin socket
                });

                if (exito) {
                    console.log('‚úÖ Chat local inicializado correctamente');
                } else {
                    console.warn('‚ö†Ô∏è No se pudo inicializar chat local');
                }
            } else {
                console.warn('‚ö†Ô∏è MAIRAChat no disponible');
            }
        } catch (error) {
            console.error('‚ùå Error al inicializar chat local:', error);
        }
    }
  </script>
</body>
</html>