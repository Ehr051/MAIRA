<!DOCTYPE html>
<html>
<head>
    <title>Debug Console - MAIRA</title>
    <script>
        // Capturar errores JavaScript
        window.addEventListener('error', function(e) {
            console.error('❌ ERROR JAVASCRIPT:', e.error, e.filename, e.lineno);
            document.body.innerHTML += `<div style="color:red">ERROR: ${e.message} en ${e.filename}:${e.lineno}</div>`;
        });
        
        // Verificar carga de MAIRA
        window.addEventListener('load', function() {
            setTimeout(function() {
                console.log('=== DIAGNÓSTICO MAIRA ===');
                console.log('1. MAIRA object:', typeof window.MAIRA);
                console.log('2. MAIRA.GestionBatalla:', typeof window.MAIRA?.GestionBatalla);
                console.log('3. MAIRA.Informes:', typeof window.MAIRA?.Informes);
                console.log('4. MAIRA.Elementos:', typeof window.MAIRA?.Elementos);
                console.log('5. editarElementoSeleccionado:', typeof window.editarElementoSeleccionado);
                console.log('6. togglePanel:', typeof window.togglePanel);
                console.log('7. mapa:', typeof window.mapa);
                console.log('8. socket:', typeof window.socket);
                
                document.body.innerHTML += '<h3>Estado MAIRA:</h3>';
                document.body.innerHTML += `<p>MAIRA object: ${typeof window.MAIRA}</p>`;
                document.body.innerHTML += `<p>MAIRA.GestionBatalla: ${typeof window.MAIRA?.GestionBatalla}</p>`;
                document.body.innerHTML += `<p>MAIRA.Informes: ${typeof window.MAIRA?.Informes}</p>`;
                document.body.innerHTML += `<p>MAIRA.Elementos: ${typeof window.MAIRA?.Elementos}</p>`;
                document.body.innerHTML += `<p>editarElementoSeleccionado: ${typeof window.editarElementoSeleccionado}</p>`;
                document.body.innerHTML += `<p>togglePanel: ${typeof window.togglePanel}</p>`;
                document.body.innerHTML += `<p>mapa: ${typeof window.mapa}</p>`;
                document.body.innerHTML += `<p>socket: ${typeof window.socket}</p>`;
            }, 2000);
        });
    </script>
</head>
<body>
    <h1>Debug Console - MAIRA</h1>
    <p>Cargando diagnóstico...</p>
    
    <!-- Cargar scripts principales -->
    <script src="/Client/js/utilsGB.js"></script>
    <script src="/Client/js/MAIRAChat.js"></script>
    <script src="/Client/js/informesGB.js"></script>
    <script src="/Client/js/elementosGB.js"></script>
    <script src="/Client/js/edicioncompleto.js"></script>
    <script src="/Client/js/gestionBatalla.js"></script>
</body>
</html>
